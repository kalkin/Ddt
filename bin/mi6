#!/usr/bin/env perl6
use v6;
use App::Mi6;
use Getopt::Kalkin :DROP-IN-REPLACEMENT;

my $app = App::Mi6.new;


#| Create new module
multi MAIN("new", 
            $module, #= Module::To::Create
            $license-name = 'GPLv3' #= License name
        ) {
    $app.cmd("new", $module, $license-name);
}

#| Build the module in current directory
multi MAIN("build") {
    $app.cmd("build");
}

#| Build and test module
multi MAIN("test", 
    *@file, #= Test files to execute
    Bool :v(:$verbose), #= Verbose mode
    UInt :j(:$jobs) #= Amount of jobs to run in paralel
){
    $app.cmd("test", @file, :$verbose, :$jobs);
}

#| Make release
multi MAIN("release") {
    $app.cmd("release");
}
